<app-simulation-toolbar></app-simulation-toolbar>

<ng-container *ngIf="_simulationService.dataLoaded; else loading">
  <ng-container [ngSwitch]="_simulationService.mode">
    <ng-container *ngSwitchCase="'networkEditor'">
      <app-network
        [(data)]="_simulationService.data"
        (dataChange)="onDataChange($event)"
      ></app-network>
    </ng-container>

    <ng-container *ngSwitchCase="'activityExplorer'">
      <app-simulation-playground
        [(data)]="_simulationService.data"
        [(records)]="_simulationEventService.records"
        (dataChange)="onDataChange($event)"
      ></app-simulation-playground>
    </ng-container>

    <ng-container *ngSwitchCase="'labBook'">
      <app-simulation-details
        [(data)]="_simulationService.data"
        (dataChange)="onDataChange($event)"
      ></app-simulation-details>
    </ng-container>
  </ng-container>
</ng-container>

<ng-template #loading>
  <div style="height: calc(100% - 40px)" class="flex">
    <span style="margin:auto">
      <fa-icon icon="compact-disc" class="fa-lg fa-spin" style="display:inline-block"></fa-icon>
      <span style="margin-left: 8px">Data is loading.</span>
    </span>
  </div>
</ng-template>
