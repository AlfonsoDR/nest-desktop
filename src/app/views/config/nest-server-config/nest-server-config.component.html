<mat-toolbar class="config-section-toolbar" color="primary">
  NEST Server
</mat-toolbar>

<div class="content config">
  <mat-nav-list>
    <mat-list-item (click)="nestServer.seek()">
      Seek NEST Server
    </mat-list-item>

    <mat-list-item>
      <span class="flex">
        <span>Ping Server: {{ nestServer.url }}</span>
        <span class="flex-spacer"></span>
        <span style="margin: 0 8px">
          <mat-chip-list dense>
            <mat-chip *ngIf="!nestServer.state.serverReady" selected="true">
              Server is not running
            </mat-chip>
            <mat-chip *ngIf="nestServer.state.serverReady" selected="true">
              Server {{ nestServer.state.serverVersion }}
            </mat-chip>
            <mat-chip *ngIf="nestServer.state.simulatorReady" selected="true">
              Simulator {{ nestServer.state.simulatorVersion }}
            </mat-chip>
          </mat-chip-list>
        </span>
      </span>
    </mat-list-item>
  </mat-nav-list>

  <mat-selection-list (selectionChange)="onSelectionChange($event)">
    <mat-list-option
      [selected]="config.custom"
      value="custom">
      Custom settings
    </mat-list-option>
  </mat-selection-list>

  <mat-list *ngIf="config.custom">
    <mat-list-item>
      <mat-form-field class="form-field">
        <input matInput
          (change)="onChange($event)"
          [value]="config.protocol"
          name="protocol"
          placeholder="Protocol" />
      </mat-form-field>
    </mat-list-item>

    <mat-list-item>
      <mat-form-field class="form-field">
        <input matInput
        (change)="onChange($event)"
        [value]="config.hostname"
        name="hostname"
        placeholder="Hostname" />
      </mat-form-field>
    </mat-list-item>

    <mat-list-item>
      <mat-form-field class="form-field">
        <input matInput
        (change)="onChange($event)"
        [value]="config.port"
        name="port"
        placeholder="Port" />
      </mat-form-field>
    </mat-list-item>
  </mat-list>

</div>
