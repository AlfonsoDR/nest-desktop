<!-- <mat-toolbar [style.background-image]="connection.view.getBackgroundImage()"></mat-toolbar> -->

<div style="border-left: 4px solid black; border-right: 4px solid black"
  [style.border-left-color]="connection.source.view.color"
  [style.border-right-color]="connection.target.view.color">

  <ng-container *ngIf="connection.sourceIdx !== connection.targetIdx">
    <button mat-menu-item class="menu-item" (click)="connection.reverse()">
      <fa-icon class="menu-icon" icon="sync-alt"></fa-icon> Reverse connection
    </button>
  </ng-container>

  <ng-container *ngIf="!connection.view.connectRecorder()">
    <button mat-menu-item class="menu-item" (click)="connection.synapse.inverseWeight()">
      <span class="menu-icon">
      <fa-icon class="fa-stack-2x" icon="plus" style="left: 16px; top: -2px"></fa-icon>
      <fa-icon class="fa-stack-2x" icon="minus" style="left: 16px; top: 10px"></fa-icon>
      </span>
       Inverse synapse weight
    </button>
  </ng-container>

  <button mat-menu-item class="menu-item" (click)="connection.reset()">
    <fa-icon class="menu-icon" icon="eraser"></fa-icon> Reset parameters
  </button>

  <ng-container *ngIf="connection">
    <ng-container [ngSwitch]="connection.hasSourceIndices()">
      <ng-container *ngSwitchCase="true">
        <button mat-menu-item class="menu-item" (click)="allSources()">
          <fa-icon class="menu-icon" icon="random"></fa-icon> Set all sources
        </button>
      </ng-container>
      <ng-container *ngSwitchCase="false">
        <button mat-menu-item class="menu-item" (click)="customSources()">
          <fa-icon class="menu-icon" icon="random"></fa-icon> Set custom sources
        </button>
      </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="connection.hasTargetIndices()">
      <ng-container *ngSwitchCase="true">
        <button mat-menu-item class="menu-item" (click)="allTargets()">
          <fa-icon class="menu-icon" icon="random"></fa-icon> Set all targets
        </button>
      </ng-container>
      <ng-container *ngSwitchCase="false">
        <button mat-menu-item class="menu-item" (click)="customTargets()">
          <fa-icon class="menu-icon" icon="random"></fa-icon> Set custom targets
        </button>
      </ng-container>
    </ng-container>
  </ng-container>

  <button mat-menu-item class="menu-item" (click)="deleteConnection()">
    <fa-icon class="menu-icon" icon="trash-alt"></fa-icon> Delete connection
  </button>
</div>
